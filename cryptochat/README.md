Code for blog post: https://golb.hplar.ch/2020/05/cryptochat.html